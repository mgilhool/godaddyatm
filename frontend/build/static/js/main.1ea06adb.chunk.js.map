{"version":3,"sources":["components/loginscreen.jsx","components/navbar.jsx","components/mainscreen.jsx","App.js","serviceWorker.js","index.js"],"names":["LoginScreen","props","handleSubmit","e","preventDefault","number","input","value","fetch","then","res","json","setState","isLoaded","accountInfo","isLoggedIn","onLogon","state","className","style","display","flexDirection","justifyContent","alignItems","onSubmit","this","type","id","placeholder","ref","element","required","autoFocus","color","Component","NavBar","onLogout","accountnumber","href","onClick","MainScreen","currentAccount","acccountInfo","menuState","console","log","Fragment","handleLogout","bind","path","exact","strict","render","balance","App","handleLogon","loggedAccountInfo","undefined","history","push","Boolean","window","location","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.1ea06adb.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nclass LoginScreen extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { accountInfo: [], isLoaded: false, isLoggedIn: false };\r\n  }\r\n\r\n  /*NOTES:\r\nHandles \"authentication\".  User will type and account number into the box.  Then the App will check with the backend to see if the account exists\r\nif it does, the state isLoggedIn will be updated to true, which will allow the mainscreen to be displayed.  IF the account number does not exist,\r\nit will let the user know and then can try again\r\n*/\r\n\r\n  handleSubmit = e => {\r\n    /*When the submit button is pressed the app send the account number to the backend and the response will be \"Account not found\" or a\r\n    json object with account number and balance*/\r\n\r\n    if (e) e.preventDefault();\r\n    const number = this.input.value;\r\n    //console.log(\"Inputted value was\", number);\r\n    fetch(\"http://127.0.0.1:5000/atm/\" + number)\r\n      .then(res => res.json())\r\n      .then(json => {\r\n        this.setState({ isLoaded: true, accountInfo: json });\r\n        json === \"Account not found\"\r\n          ? this.setState({ isLoggedIn: false })\r\n          : this.props.onLogon({ json }); //On a \"good\" Login, this will make an event that is caught by App.js and updates the state of the main App\r\n        //console.log(json);\r\n        //console.log(typeof json);\r\n        //console.log(typeof this.accountInfo);\r\n        //console.log(\"State\", this.state);\r\n        //console.log(\"Props\", this.props);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    //console.log(\"Top of render - props:\", this.props);\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"col-sm-6 col-md-4 col-md-offset-4\">\r\n          <h1 className=\"login-title\">Welcome to the GoDaddy ATM. $</h1>\r\n          <br />\r\n          <br />\r\n          <br />\r\n          <div className=\"form-group\">\r\n            <label>Enter your account number to get started.</label>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                flexDirection: \"row\",\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\"\r\n              }}\r\n            >\r\n              <form onSubmit={this.handleSubmit}>\r\n                <span>\r\n                  <input\r\n                    type=\"number\"\r\n                    className={\r\n                      this.state.accountInfo === \"Account not found\"\r\n                        ? \"form-control is-invalid m-3\"\r\n                        : \"form-control m-3\"\r\n                    }\r\n                    id=\"accountNumberInput\"\r\n                    placeholder=\"Account Number\"\r\n                    ref={element => {\r\n                      this.input = element;\r\n                    }}\r\n                    required\r\n                    autoFocus\r\n                  />\r\n                  {this.state.accountInfo === \"Account not found\" ? (\r\n                    <span style={{ color: \"red\" }}>\r\n                      <h3>Unknown User</h3>\r\n                    </span>\r\n                  ) : (\r\n                    <h1></h1>\r\n                  )}\r\n                  <button className=\"btn btn-primary m-3\">Login</button>\r\n                </span>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default LoginScreen;\r\n","/*\r\nThis is the navBar for the top of screen.  It should show the account number and provide a logout link\r\nit has no internal state so the accountInfo object is passed in to give it the ability to show it. \r\nOn click of log out and event is passed up to mainScreen, and then App to clear the accountInfo and logged in state\r\nthen the path is set back to \"/\" to go back to the login screen\r\n*/\r\nimport React, { Component } from \"react\";\r\n\r\nconst NavBar = ({ accountInfo, onLogout }) => {\r\n  //console.log(\"NavBar - Rendered\");\r\n  return (\r\n    <nav className=\"navbar-right\">\r\n      <span className=\"m-2\">{accountInfo.json.accountnumber}</span>\r\n      <a href=\"/\" onClick={onLogout}>\r\n        Logout\r\n      </a>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n","import React, { Component } from \"react\";\r\n/*  Don't need at present\r\nimport {\r\n  BrowserRouter as Router,\r\n  Link,\r\n  NavLink,\r\n  Redirect,\r\n  Prompt\r\n} from \"react-router-dom\";*/\r\nimport Route from \"react-router-dom/Route\";\r\nimport NavBar from \"./navbar\";\r\n// Ran out of time, hardcoded these options into  this class to preserve state, would like to fix later\r\n// import MainMenu from \"./mainmenu\";\r\n// import BalanceMenu from \"./balancemenu\";\r\n\r\n/*NOTES\r\nThis is the main menuscreen of the App.  It passed in the accountInfo (json.accountnumber and json.balance)\r\nand saves it locally in state.  It also creates a variable call menuState which is used for navigation:\r\n (menuState = \"Welcome\" -> show the Welcome screen;  menuState = \"Balance\" -> show the Balance Screen)\r\n it works, but I am sure there is a better way than hardcoding it.\r\n It calls the NavBar and passes in the account info so it can populate correctly, and then displays the menu based on menuState\r\n */\r\n\r\nclass MainScreen extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const currentAccount = this.props.acccountInfo;\r\n    this.state = { accountInfo: currentAccount, menuState: \"Welcome\" };\r\n    console.log(\"MainScreen - constructor\", this.state);\r\n  }\r\n\r\n  handleLogout() {\r\n    {\r\n      this.props.onLogout();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    console.log(\"Main Menu render:\", this.state);\r\n    return (\r\n      <React.Fragment>\r\n        <NavBar\r\n          accountInfo={this.state.accountInfo}\r\n          onLogout={this.handleLogout.bind(this)}\r\n        />\r\n        <Route\r\n          path=\"/\"\r\n          exact\r\n          strict\r\n          render={() =>\r\n            this.state.menuState === \"Welcome\" ? (\r\n              <React.Fragment>\r\n                <h2>\r\n                  Welcome Account {this.state.accountInfo.json.accountnumber}\r\n                </h2>\r\n                <button\r\n                  className=\"btn btn-primary m-3\"\r\n                  onClick={() => this.setState({ menuState: \"Balance\" })}\r\n                >\r\n                  Check Balance\r\n                </button>\r\n              </React.Fragment>\r\n            ) : (\r\n              <React.Fragment>\r\n                <h1>Account Balance</h1>\r\n                Acct# {this.state.accountInfo.json.accountnumber}{\" \"}\r\n                <span\r\n                  style={{\r\n                    color:\r\n                      this.state.accountInfo.json.balance >= 0 ? \"green\" : \"red\"\r\n                  }}\r\n                >\r\n                  {this.state.accountInfo.json.balance >= 0\r\n                    ? \"$\" + this.state.accountInfo.json.balance\r\n                    : \"-$\" + this.state.accountInfo.json.balance * -1}\r\n                </span>\r\n                <button\r\n                  className=\"btn btn-primary m-3\"\r\n                  onClick={() => this.setState({ menuState: \"Welcome\" })}\r\n                >\r\n                  Go Back\r\n                </button>\r\n              </React.Fragment>\r\n            )\r\n          }\r\n        />\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\nexport default MainScreen;\r\n","import React, { Component } from \"react\";\r\nimport \"./App.css\";\r\nimport \"bootstrap/dist/css/bootstrap.css\";\r\nimport {\r\n  BrowserRouter as Router\r\n  /*Link,\r\n  NavLink,\r\n  Redirect,\r\n  Prompt    don't need right now*/\r\n} from \"react-router-dom\";\r\nimport Route from \"react-router-dom/Route\";\r\nimport LoginScreen from \"./components/loginscreen\";\r\nimport MainScreen from \"./components/mainscreen\";\r\n\r\n/* NOTES\r\nThis is a very basic ATM program.   Starting with his class there is a state object that holds an account info object (containing account number and balance) and a isLoggedIn state\r\nto detirmine if a user is logged in or not.   \r\nWhen the app starts isLogged in is false so it heads to the loginScreen, once a user it logged in, it will call the MainScreen and pass the accountinfo so the user can do check their balance\r\n*/\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { accountInfo: [], isLoaded: false, isLoggedIn: false }; //switch true or false here.\r\n  }\r\n\r\n  handleLogon = accountInfo => {\r\n    const loggedAccountInfo = accountInfo;\r\n    //console.log(\"Handling Logon:\", loggedAccountInfo);\r\n    this.setState({\r\n      accountInfo: loggedAccountInfo,\r\n      isLoaded: true,\r\n      isLoggedIn: true\r\n    });\r\n    //console.log(\"State at Logon:\", this.state);\r\n  };\r\n\r\n  handleLogout = () => {\r\n    this.setState({\r\n      accountInfo: undefined,\r\n      isLoaded: false,\r\n      isLoggedIn: false\r\n    });\r\n    return this.props.history.push(\"/\");\r\n  };\r\n\r\n  render() {\r\n    // var { isLoaded, items } = this.state;\r\n\r\n    return (\r\n      <Router>\r\n        <div className=\"App\">\r\n          <Route\r\n            path=\"/\"\r\n            exact\r\n            strict\r\n            render={() =>\r\n              this.state.isLoggedIn === true ? (\r\n                <MainScreen\r\n                  acccountInfo={this.state.accountInfo}\r\n                  onLogout={this.handleLogout}\r\n                />\r\n              ) : (\r\n                <LoginScreen\r\n                  acccountInfo={this.state.accountInfo}\r\n                  isLoaded={this.state.isLoaded}\r\n                  onLogon={this.handleLogon}\r\n                />\r\n              )\r\n            }\r\n          />\r\n        </div>\r\n      </Router>\r\n    );\r\n  }\r\n}\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n//import \"bootstrap/dist/css/bootstrap.css\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}